<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Scoped View Transitions Demo</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Notification container for floating badges -->
    <div id="notification-container" class="notification-container"></div>

    <header id="header" style="contain: layout;">
        <h1>Social Feed</h1>
        <button class="demo-notifications-btn" onclick="showRandomNotification()" title="Demo Notifications">ğŸ””</button>
    </header>
    <main>
        <div id="refresh-indicator" class="refresh-indicator">
            <div class="refresh-spinner"></div>
            Refreshing...
        </div>
        <article id="post1" class="post" style="contain: layout;">
            <div class="post-header">
                <img src="https://picsum.photos/seed/alice/40/40" alt="Alice" class="avatar">
                <div class="author-info">
                    <span class="author">Alice</span>
                    <span class="time">2h ago</span>
                </div>
            </div>
            <p class="content">Just tried the new coffee shop downtown! â˜• The latte art is amazing.</p>
            <img src="https://picsum.photos/seed/coffee/300/200" alt="Coffee shop latte art" class="post-image">
            <div class="actions">
                <button class="action-btn like-btn" data-post="1" data-action="like" data-liked="false">
                    <span class="heart-icon">ğŸ¤</span>
                    <span class="like-count">12</span>
                </button>
                <button class="action-btn comment-btn" data-post="1" data-action="comment">ğŸ’¬ Comment</button>
                <span class="comments">0</span>
                <button class="action-btn share-btn" data-post="1" data-action="share">ğŸ“¤ Share</button>
                <span class="shares">0</span>
            </div>
            <div class="comments-section" id="comments-1" style="display: none;">
                <div class="comment-input">
                    <img src="https://picsum.photos/seed/user/32/32" alt="You" class="comment-avatar">
                    <input type="text" class="comment-field" placeholder="Write a comment..." data-post="1">
                </div>
                <div class="comments-list">
                    <!-- Sample comments will be populated by JavaScript -->
                </div>
            </div>
        </article>
        <article id="post2" class="post" style="contain: layout;">
            <div class="post-header">
                <img src="https://picsum.photos/seed/bob/40/40" alt="Bob" class="avatar">
                <div class="author-info">
                    <span class="author">Bob</span>
                    <span class="time">4h ago</span>
                </div>
            </div>
            <p class="content">Beautiful sunset today! ğŸŒ…</p>
            <img src="https://picsum.photos/seed/sunset/300/200" alt="Beautiful sunset" class="post-image">
            <div class="actions">
                <button class="action-btn like-btn" data-post="2" data-action="like" data-liked="false">
                    <span class="heart-icon">ğŸ¤</span>
                    <span class="like-count">8</span>
                </button>
                <button class="action-btn comment-btn" data-post="2" data-action="comment">ğŸ’¬ Comment</button>
                <span class="comments">3</span>
                <button class="action-btn share-btn" data-post="2" data-action="share">ğŸ“¤ Share</button>
                <span class="shares">1</span>
            </div>
            <div class="comments-section" id="comments-2" style="display: none;">
                <div class="comment-input">
                    <img src="https://picsum.photos/seed/user/32/32" alt="You" class="comment-avatar">
                    <input type="text" class="comment-field" placeholder="Write a comment..." data-post="2">
                </div>
                <div class="comments-list">
                    <div class="comment">
                        <img src="https://picsum.photos/seed/commenter1/32/32" alt="Sarah" class="comment-avatar">
                        <div class="comment-content">
                            <span class="comment-author">Sarah</span>
                            <span class="comment-time">2h ago</span>
                            <p class="comment-text">Beautiful sunset! The colors are amazing.</p>
                        </div>
                    </div>
                    <div class="comment">
                        <img src="https://picsum.photos/seed/commenter2/32/32" alt="Mike" class="comment-avatar">
                        <div class="comment-content">
                            <span class="comment-author">Mike</span>
                            <span class="comment-time">1h ago</span>
                            <p class="comment-text">Where was this taken? Looks like the coast.</p>
                        </div>
                    </div>
                    <div class="comment">
                        <img src="https://picsum.photos/seed/commenter3/32/32" alt="Emma" class="comment-avatar">
                        <div class="comment-content">
                            <span class="comment-author">Emma</span>
                            <span class="comment-time">30m ago</span>
                            <p class="comment-text">Stunning! â¤ï¸</p>
                        </div>
                    </div>
                </div>
            </div>
        </article>
        <article id="post3" class="post" style="contain: layout;">
            <div class="post-header">
                <img src="https://picsum.photos/seed/charlie/40/40" alt="Charlie" class="avatar">
                <div class="author-info">
                    <span class="author">Charlie</span>
                    <span class="time">6h ago</span>
                </div>
            </div>
            <p class="content">New recipe alert! Made the best pasta ever. ğŸ</p>
            <img src="https://picsum.photos/seed/pasta/300/200" alt="Delicious pasta" class="post-image">
            <div class="actions">
                <button class="action-btn like-btn" data-post="3" data-action="like" data-liked="false">
                    <span class="heart-icon">ğŸ¤</span>
                    <span class="like-count">15</span>
                </button>
                <button class="action-btn comment-btn" data-post="3" data-action="comment">ğŸ’¬ Comment</button>
                <span class="comments">2</span>
                <button class="action-btn share-btn" data-post="3" data-action="share">ğŸ“¤ Share</button>
                <span class="shares">5</span>
            </div>
            <div class="comments-section" id="comments-3" style="display: none;">
                <div class="comment-input">
                    <img src="https://picsum.photos/seed/user/32/32" alt="You" class="comment-avatar">
                    <input type="text" class="comment-field" placeholder="Write a comment..." data-post="3">
                </div>
                <div class="comments-list">
                    <div class="comment">
                        <img src="https://picsum.photos/seed/commenter4/32/32" alt="Alex" class="comment-avatar">
                        <div class="comment-content">
                            <span class="comment-author">Alex</span>
                            <span class="comment-time">3h ago</span>
                            <p class="comment-text">That pasta looks incredible! What's the sauce made of?</p>
                        </div>
                    </div>
                    <div class="comment">
                        <img src="https://picsum.photos/seed/commenter5/32/32" alt="Lisa" class="comment-avatar">
                        <div class="comment-content">
                            <span class="comment-author">Lisa</span>
                            <span class="comment-time">1h ago</span>
                            <p class="comment-text">Recipe please! ğŸ˜‹</p>
                        </div>
                    </div>
                </div>
            </div>
        </article>
        <div id="loading-more" class="loading-more hidden">
            <div class="loading-spinner"></div>
            Loading more posts...
        </div>
    </main>
    <nav id="bottom-nav" style="contain: layout;">
        <button class="nav-item active" data-tab="home">Home</button>
        <button class="nav-item" data-tab="search">Search</button>
        <button class="nav-item" id="create-post-btn" data-tab="create">Create</button>
        <button class="nav-item" data-tab="profile">Profile</button>
    </nav>

    <!-- Post Creation Modal -->
    <div id="create-post-modal" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Create New Post</h2>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <form id="create-post-form">
                <div class="form-group">
                    <label for="post-content" class="form-label">What's on your mind?</label>
                    <textarea id="post-content" class="form-textarea" placeholder="Share your thoughts..." required></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" id="cancel-post">Cancel</button>
                    <button type="submit" class="btn btn-primary">Post</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Share Sheet Overlay -->
    <div id="share-sheet-overlay" class="share-sheet-overlay">
        <div class="share-sheet" id="share-sheet">
            <div class="share-header">
                <h3>Share Post</h3>
                <button class="share-close" id="share-close">&times;</button>
            </div>
            <div class="share-options">
                <button class="share-option" data-share="twitter" style="view-transition-name: share-twitter-transition;">
                    <span class="share-icon">ğŸ¦</span>
                    <span class="share-label">Twitter</span>
                </button>
                <button class="share-option" data-share="facebook" style="view-transition-name: share-facebook-transition;">
                    <span class="share-icon">ğŸ“˜</span>
                    <span class="share-label">Facebook</span>
                </button>
                <button class="share-option" data-share="copy" style="view-transition-name: share-copy-transition;">
                    <span class="share-icon">ğŸ”—</span>
                    <span class="share-label">Copy Link</span>
                </button>
                <button class="share-option" data-share="whatsapp" style="view-transition-name: share-whatsapp-transition;">
                    <span class="share-icon">ğŸ’¬</span>
                    <span class="share-label">WhatsApp</span>
                </button>
                <button class="share-option" data-share="telegram" style="view-transition-name: share-telegram-transition;">
                    <span class="share-icon">âœˆï¸</span>
                    <span class="share-label">Telegram</span>
                </button>
                <button class="share-option" data-share="email" style="view-transition-name: share-email-transition;">
                    <span class="share-icon">âœ‰ï¸</span>
                    <span class="share-label">Email</span>
                </button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>